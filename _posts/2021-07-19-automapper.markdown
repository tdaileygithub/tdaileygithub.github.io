---
title:  "C# Automapper"
date:   2021-07-19 00:00:01 -0700
categories: c#
tags: [c#]

---
# Nuget Packages

- AutoMapper
- AutoMapper.Extensions.Microsoft.DependencyInjection

# Startup.cs

{% highlight csharp %}
    public void ConfigureServices(IServiceCollection services) {
    ...
    services.AddAutoMapper(typeof(Startup).Assembly);
{% endhighlight %}

# Example Dto Mapping using Profile

{% highlight csharp %}
    //The EF autogenerated db model
    public class Item
    {
        public int Prop1 { get; set; }
    }

    public class ItemDto
    {
        public int Prop1 { get; set; }
    }

    public class ItemMappingProfile : Profile
    {
        public ItemMappingProfile()
        {
            //custom member mapping
            CreateMap<Country, CountryDto>()
                .ForMember(dto => dto.Prop1, options => options.MapFrom(src => src.Prop1)).ReverseMap();

            //1-1 mapping
            CreateMap<ItemEF, ItemDto>().ReverseMap();
        }
    }    
{% endhighlight %}    